package com.mygdx.main.page_stuff;

import java.util.ArrayList;
import java.util.List;

import com.badlogic.gdx.Gdx;
import com.badlogic.gdx.files.FileHandle;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;

public class PageManager {
	
	public static List<Page> pages = new ArrayList<Page>();
	public static Page topPage, endPage;
	public static Page currentPage;
	public static int currentIndex;
	public static boolean end = false;
	
	public PageManager() {
		populatePages();
		setPage(0);
	}
	
	private void populatePages() {
		List<String> answers = new ArrayList<String>();
		topPage = new Page("",  answers);
		topPage.top = true;
		
		answers = new ArrayList<String>();
		endPage = new Page("",  answers);
		endPage.end = true;
		
		answers = new ArrayList<String>();
		answers.add("Science or Engineering");
		answers.add("Business");
		answers.add("Education");
		answers.add("Arts, Humanities, or Other");
		Page p = new Page("What was your major?", answers);
		pages.add(p);
		
		answers = new ArrayList<String>();
		answers.add("White");
		answers.add("Black");
		answers.add("Asian");
		answers.add("Hispanic");
		p = new Page("What is your race?", answers);
		pages.add(p);
		
		answers = new ArrayList<String>();
		answers.add("Male");
		answers.add("Female");
		p = new Page("What is your sex?", answers);
		pages.add(p);
	}
	
	public void setPage(int i) {
		currentIndex = i;
		currentPage = pages.get(currentIndex);
		currentPage.populateButtons();
	}
	
	public static void nextPage() {
		currentIndex++;
		if (currentIndex == pages.size()) {
			end = true;
		} else {			
			currentPage = pages.get(currentIndex);
			currentPage.populateButtons();
		}
	}
	
	public void update() {
		if (end) {
			endPage.update();
		} else {			
			topPage.update();
			currentPage.update();
		}
	}
	
	public void draw(SpriteBatch sb) {
		if (end) {
			endPage.draw(sb);
			FileHandle file = Gdx.files.local("inputs.txt");
			file.writeString("My god, it's full of stars", false);
		} else {			
			currentPage.draw(sb);
			topPage.draw(sb);
		}
	}
}
