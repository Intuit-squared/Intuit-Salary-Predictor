function [y1] = myNeuralNetworkFunction(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 17-Sep-2016 13:29:43.
%
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 110xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_remove = [5 13 17 21 22 68 78 95 98];
x1_step1_keep = [1 2 3 4 6 7 8 9 10 11 12 14 15 16 18 19 20 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 69 70 71 72 73 74 75 76 77 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 96 97 99 100 101 102 103 104 105 106 107 108 109 110];
x1_step2_xoffset = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
x1_step2_gain = [2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2;2];
x1_step2_ymin = -1;

% Layer 1
b1 = [1.4274145592484784;-1.1064283932766723;-0.82040778251855884;-0.46174655786080876;0.15594596007834549;-0.16436909538100075;-0.47550027995355992;0.8060199618997963;1.1090939755581812;-1.4179985322764761];
IW1_1 = [-0.26479611947621201 -0.30962870083415978 -0.23506729841414162 0.0079256516515314179 -0.12072180319629083 -0.022668476371203818 -1.1628323085576486 -0.27376862663065343 0.062112765952224674 -0.019013093823741712 -0.022368094732740151 -0.054104607783876706 0.40954106868871704 0.11718682923883098 -0.14199951171245709 0.17933597064765713 -0.19188971667923899 -0.094587103441601067 0.17035107683083042 0.013831191033804988 -0.058159327750048853 -0.51003880745965446 -0.19577683385894346 0.5736638016462059 -0.11892629116923956 -0.15561503956751463 -0.007191438285435392 -0.1617998548178475 -0.19953274732113119 -0.47871610549279681 -0.71319038674430901 0.88322163532255504 -0.049115293846620479 0.041646453047875294 0.17825420796459535 -0.08147081416858841 0.19805293470211865 0.81003608188097631 0.46599593563360131 0.40840548474535815 -0.09223574294908321 0.12449501301675192 1.0475076059782877 0.19722550183283238 -0.27084618416828332 0.40964845633469654 0.24617367050610547 -0.19574508064767515 0.46313320600335639 -0.10340227528126361 -0.1023142252960548 0.12604185532091472 0.47536070612156267 -0.19256993811548734 -0.26904960786583365 0.033205841156264841 -0.02762939254239254 -0.093237556087625059 0.55658093179245571 -0.026933630814921238 -0.13626724610807125 -0.13381408318464474 -0.24187945867187052 -0.068021806961616929 -0.12879741768833533 -0.12685965824112339 0.18240998709834313 0.75818164284175305 -0.1468114038552383 0.37832641909430065 -0.054006261582924472 0.012850823310297134 -0.11662969846445902 0.034084455589107839 0.015482971664340862 0.021065402828197327 -0.062214822020530011 0.19077261965840517 -0.075115289895881024 -0.034784236917552384 -0.0016450653063012598 -0.14646688282649897 0.010818992153597648 0.01849225302289887 -0.24783114982549673 0.10187349925034622 -0.37290465711036525 -0.066625351104041247 -0.18853204021658343 0.1288439690123496 -0.066261010842350615 -0.11896942395352268 -0.12266882996508396 -0.12492813964622587 -0.040248098223691804 -0.11597663928945294 -0.11035325020785403 -0.11212659335398356 -0.011391753617603379 -0.096849839651905634 0.13476249771943583;0.36959702644028924 0.38897266265417091 0.54342565385983788 -0.0034623646779893651 0.4867835898959334 0.13628045225028357 0.23406220011986023 0.19062777533222119 -0.61251576104262628 0.44035368374126516 0.37894117830068952 0.08467525157072392 0.27350779911376333 0.15269673404566306 0.43078786085140758 0.44501076853291044 -0.052654974689227439 0.30676789407928751 0.3637286351636318 0.083666112870568729 0.31580551192077438 -0.39634518417435782 0.993796515036519 0.54225661679832948 0.45522643794281425 0.4013182136458488 0.1939376010522712 -0.11750710604705207 1.2221441423030364 -0.8966935247617206 -0.069392770416710894 0.075378287720703291 -0.74455441385406052 -0.12602457916930287 -0.052065963388514713 -0.093234641165416909 0.41556457458687546 -0.071953344316038781 0.17904749592265121 -0.41728536176602854 0.18116755776894969 -0.52840225762934945 -0.3530140540931343 -0.2917467139118205 -0.021556185655510735 -0.11746231605038672 -0.27597212716314817 0.07995082966654482 -0.19209803895380756 -0.16420080361466349 -0.005029045608459709 0.25499777247065358 -0.27100463904681571 -0.3621573178699089 0.051349498301086968 0.29733996075319924 0.10934643384144171 -0.0016212700600355661 0.3480430752232736 -1.003706030764544 -0.41800088346420711 -0.15182338364759432 -0.24009113075362784 -0.69435581965537374 -0.79831857218995805 0.22430117089738838 0.11975281687731457 0.28312532465112744 -0.15738858509466902 -0.06528092822795438 0.029277391010085724 -0.58667887836210431 0.39622261490402827 0.026020450619280773 0.039841598736835668 0.38891681492237856 -0.45452252605911986 -0.195957654009557 -0.19221744559663723 0.08084622899235705 -0.13303800658157222 -0.23222556147646053 -0.12482520262580124 -0.046145167502292819 -0.47184296765576911 -0.054180514362472912 -0.078512239488882307 -0.55170387040492286 -0.017675958380946107 -0.83790534485851176 -0.016190839043431972 -0.050252454726625088 -0.058510109040712521 -0.11042637966621513 -0.26066463304322518 -0.29112023681618043 0.030758759109577365 0.021861743044437078 0.21204303350674134 0.23213604436853949 0.0032416623552276157;-0.29876096461204105 0.4750626571408153 0.22245405700208948 0.31931576143512252 0.16826132966753898 0.026866537696459886 -0.093087968870238222 -0.12404722519807283 -0.068993190681906749 -0.19525445895585314 -0.31693574877023911 -0.22134987688782887 0.070113760598683378 -0.042765650799183728 0.094688248556877463 0.24872348049924997 -0.11852608701959635 0.17707597252469143 0.17316467189748513 -0.027324370344448561 -0.10096291672197372 0.38408705656399333 -0.17542035675645673 -0.1286037284403336 -0.42428225725319502 0.066297918288907534 -0.60156438550700253 -0.043712450173460558 -0.040076372931027657 -0.62903619889866624 -0.43942870121492655 -0.11886866242682759 -0.16892167078774195 0.046568897151162365 0.2069754307920732 0.67322963886486542 0.24705574248489667 -0.26015314465956502 0.32009755226286818 -0.0030264037269834192 0.17380003078723588 0.26717757719349627 0.1321866961272522 -0.24520613123361962 -0.20832872673606628 0.13017367836052174 -0.12946649220854961 -0.25252598222688633 0.29951826891954958 0.12394834293909199 0.16602007582061085 0.14896363060462009 -0.11588509189966509 -0.28978107875591036 0.064877859550457911 0.046363316726226934 -0.072457855439613708 -0.040899027846029029 -0.061796801081248437 0.2089225119324726 -0.03917873716240107 0.14177646270234343 0.15779643513735581 0.28885847295502354 0.53464447503535062 0.25023633109915211 -0.090807891074925456 0.08800624161238392 0.12682542469466551 0.089321642913579538 0.17250498574842438 -0.1202576537211863 0.33786351148748905 0.14692496070537236 -0.079434271143915339 -0.16101873785545257 0.032955944541814358 -0.18443518421597238 0.1263839824946224 0.050033079123880386 0.20110384097818143 0.31158549069583835 -0.029979153495071416 0.49694105415846873 0.27737691163870193 0.11227822615045417 -0.16999381200114608 -0.086990264755233859 0.18008563247422738 -0.084655522017690929 0.21260258073526006 0.23440417080456785 0.025475882600974605 0.81898326222094486 -0.39418877554652998 0.09680281738282169 0.087766019701923589 -0.24442339539157729 -0.92419027752220551 -0.26246093509620827 0.54991871564781425;0.68013319402709049 -0.20654586949094336 0.3911358341624388 -0.37377528357379153 0.32256328030845638 0.089379126167402151 -1.9917650572013335 -0.43295444088068769 0.015478725762769676 0.54381368117297124 0.35535154194118379 -0.10771085243161281 0.32906507181792943 -0.046463652068571552 0.36316335064558791 0.0074548500037646568 0.31806797524975566 0.063788612297663319 0.28687320193496529 -0.11214611681275673 0.12103638785354685 -1.1482775598165966 0.4656337072258776 0.26678312151827316 0.98586427573653457 -0.1955022199861654 0.84168029169420655 -0.065350044140258384 -0.23001274911323055 -0.99889336363456105 -1.3998833035953751 0.10077765067512856 0.081516620320840297 -0.17808767974411982 0.23072620434376961 0.022543030762512111 -0.18817102974683267 0.76298688262090697 -0.33076452747509177 -0.15773230797989574 0.087671380502322926 0.16745492917262556 -0.37407931431319635 0.078123004158705725 -0.3006070101030085 0.11851274437344454 0.25010364596569618 -0.34508859706148737 0.014308049230705611 -0.06687703370391318 0.05751227004400504 0.82714103468718669 0.53867224551601578 -0.024801883548081088 0.17636569541815114 -0.30972529010060718 -0.17635673135644078 -0.015856268603186417 0.17451595993886443 -0.35864941233950282 0.40759784058648008 0.094240781234997004 -0.10887810194037068 0.25777149719290243 0.18598707282406468 0.27210745666247993 -0.16221689808815928 -0.30297135823500132 -0.29975264662523871 0.13054627293140386 -0.078268101597408685 -0.076716636278082853 -0.14223268363020933 0.014506837253697693 0.2134261002158048 -0.22212877518681345 -0.25253733347110296 0.12711433216880227 -0.1736868859519218 -0.18220991070335169 -0.25583339350350881 -0.098664608299094153 -0.14538969549710201 0.090088569110994651 -0.010619620713958267 0.033242644879129056 -0.069681890719219097 -0.22634097220030575 0.13420638884218788 0.26508844514683472 0.17338962191528146 -0.13454928491467985 0.17267117381450325 -0.01330341760824829 0.19882575378379522 -0.33925344000216273 1.248405592338353 -0.13106456460455168 -0.23972521475526634 0.19990900208021878 -0.29027264427389493;-0.55339990239536918 -0.51607554931585464 -0.012747537742595759 1.1686266871633584 0.10862150958496009 0.17260198996310944 -0.89199279910440832 0.13063076189415401 0.71600209809682647 0.044071089870784626 -0.045376896151863855 0.14447822103720936 0.28450597866035687 0.11542025893506738 -0.4795678464355082 0.20809089804193281 -0.15883451330801868 -0.12980592329414004 0.36799827386767897 -0.1240619270280815 -0.21171695834015761 1.1645455614379028 0.6624538346311698 0.2740181271385923 -0.45965005366843492 -0.35481802368644999 -0.37302758440240408 -0.34813679405690001 -0.43934316327216516 -1.8438572238564839 0.76423089009017486 0.056693663875038353 -0.040995377022352689 -0.062079054786036154 0.076314088577761854 0.22729634519813041 0.23351708379688393 -0.018955415141512617 0.26528191382287775 0.16762050901738665 -0.37925386485734353 -0.043492557541986679 0.26900376828731221 0.31094926191236333 -0.25954179882449946 0.017257219115712551 0.39389959509685391 -0.16591052381857729 0.31893917987335629 -0.22421885669128 -0.020315039932735639 0.093940083981828543 0.010687480053916711 0.41737255911274673 -0.12797391539416592 0.46782632103386285 -0.12848132468766243 0.069544581418593848 0.18932643472214997 -0.48843028615751954 -0.13718025103325607 -0.27735605359856308 -0.32514898769355116 -0.067137222787824455 -0.0069790804108446139 -0.0087499226689054035 0.14376497616257727 -0.15893835739005541 -0.11600454583120171 0.11176100922644118 -0.025095701260494499 -0.096880284312845996 -0.08254892716475612 0.12456032244490794 0.093468931519330889 -0.034840412596688485 -0.11805441157849578 0.092335474816157406 -0.0085098277987546486 -0.13096137345041781 0.071991067241316736 -0.080556480095341165 0.016775891021830511 0.10400606842068516 -0.23118532120907889 0.047849675250736065 -0.032147164706882253 0.033988798818464699 -0.21927831182637597 0.29392367892429566 -0.061069006539898968 -0.026647194014251807 -0.022070706029103097 -0.0043673556007943412 0.011751904475039019 -0.097777457943608412 -0.18328293702739457 -0.18727123947785329 0.032621613713685972 0.047881468665703433 0.41605234453921641;-0.17156098613100024 -0.17900105743358874 0.079820946633337803 -0.50992680520559885 -0.30467676386902021 -0.17637744070569433 2.2011919146860732 -0.30755176241592791 0.33642183888032023 -0.059290063121147353 -0.03296094504326242 0.05035635060931265 0.056036176827687349 0.12419517276400803 -0.58903615814872046 0.061545843402711561 -0.00056496123608795051 0.12795967579144774 0.20274821174310459 0.16333827070828674 -0.031529673024641214 -0.0067448073375849654 -0.040844602477311906 -0.10922943687850384 -0.14968425476466937 -0.40431379427160602 0.089291558384416519 0.1580654236249876 -0.5310040873429992 -0.66048829232888306 0.64189550798146511 0.17144731716489348 -0.643670082180827 0.1704621364641718 0.19964515036720409 0.041028956328653554 0.13121034889559724 -0.37395593792527709 0.21116751955418211 0.27150298707931425 -0.12226060641796666 -0.1196155901359148 -0.086562914788301637 0.0050630299806649487 0.018396765490939201 0.31609804290011229 -1.0427231580909611 0.28211724819243189 0.12366593273501011 0.33221909161963709 0.42726045844778476 0.40124739819847066 0.28663706041310405 0.085980926793823603 -0.072012759554331798 0.9719938967108539 0.19293047701335558 0.11195959681173129 0.04679363240177549 -0.42705230648571446 0.10284111411354395 0.13871227526646415 -0.24099107882442222 0.051902279132912225 -0.84294098298995235 0.12919303713386726 0.17537308380398597 0.27376010697637354 0.12257479617014982 -0.18744118513369351 0.16461762405902333 0.1272325123933026 -0.16074922238872363 -0.0076225660356802911 -0.11216177950457963 -0.23882794821671438 0.24056656550441524 0.20995167853269006 -0.088847098825900361 0.16648380643527189 0.15059854680318063 0.052209646903191922 -0.12319547934213827 0.17221683770718732 -0.70937498600745319 0.28236231410226731 -0.17308157913455902 -0.14238023155296156 0.17725693734291159 -0.76626946735206791 0.27545635308902949 -0.085380272518291028 -0.083084237449142118 -0.086101094067032771 -0.078053790240043788 -0.062660123182854924 0.061140671256806549 0.093953882790226165 0.033706116177318043 0.11309808913312047 0.07614890696363498;0.36528495109325299 0.2604211319982751 -0.12271830706854883 -0.084977238322706664 -0.20449824584017484 -0.083525321804084451 -0.18286496486157811 -0.8798136006625914 0.34300096079723785 0.077973963398212096 0.16780114269191876 -0.089920245466946547 0.026364035967402021 0.14678723646801323 0.071234228085758008 -0.28493094144072717 0.081920878851766216 0.22669169082030202 -0.010634140752880647 0.1249558002014034 -0.093667437690937064 -0.25644709106434704 1.0620968151503141 -0.39371799880092123 0.20949389744644697 0.01476715447694036 0.38564624661881941 0.14933495331945598 -0.07482820362586938 1.7007066444180379 0.37484148600782669 0.24624057889782358 0.2337627955440808 -0.072128765793607802 -0.11005896484773561 -0.39039666459503192 0.036384944443689053 0.21182864882657779 -0.15963556431820086 -0.076997906899250221 -0.06812544463696002 -0.25199195763611548 -0.523196245741397 -0.61075203172629933 -0.31526322953810915 0.11388250466345193 -0.89109571022640777 -0.0257293723321982 -0.29769166705704786 0.25251947900898064 0.044663816667610247 0.13998851037782917 0.021838748967014418 -0.20952674675957031 -0.1019587477519126 0.92271412037845058 -0.058469288376403014 0.08053957879093146 -0.069451936189910385 0.50191473344593962 0.030867248145368904 -0.045263903722661661 -0.48592123534526049 0.094577195096069946 -0.26048419309547977 -0.017233212868248766 -0.3222830136893135 0.44614486576176693 -0.0020699759150504668 -0.2466026457892796 0.21382818852902669 0.22762492455095965 0.073660503615813472 -0.3375345224587652 -0.020405395519497427 -0.26719742828933707 0.23528394653773965 0.15956032250939772 -0.045182068989589756 0.027426257703957121 -0.183233548751807 -0.22573747514762915 0.0047566824324739194 -0.24799733559440162 -0.35210957428934309 0.18399900375911962 0.01070745172880231 -0.14084557141239001 0.15031474587257115 -0.47233489088344621 0.12124260982328279 -0.1315608504190949 -0.11234922963811848 -0.12168082288623372 0.021302263140452679 0.076686160365980152 0.1224183561889859 0.094356417729965586 -0.11538191150043049 0.20150784733179444 -0.036121618482845022;-0.34270432907686188 0.54019325747657276 -0.21338509436301006 1.2364750010231256 -0.20813633336804696 -0.085604368937420836 0.38312389622753107 0.2516326657429907 -0.5603941624957266 -0.80241195543888777 -0.18328048540326219 -0.15374696637255497 -0.13865374510806022 -0.14572691021447634 0.86637166533048393 0.046808749453114265 -0.33953067293174521 0.1344546992522947 -0.20242795278836928 -0.035341928212860342 -0.068517790119277042 0.13743200245200302 0.32045217744833132 0.011345317903538356 -0.14720700995952474 -0.16767352665204449 0.37037884470795368 0.50113244348960639 -0.24715924328510819 0.25022763764505745 0.2564102420045874 -0.49243343421507657 -0.68140096284283291 0.11758460951882807 -0.18350421220618723 0.0080789401894020424 -0.13791602907486866 0.11411209942808864 -0.15829811281186773 0.60802944000542425 -0.44649518034511138 -0.15930823727751711 -0.45691130483984216 -0.38828417532094234 -0.49191279644743879 0.49302992095242609 1.3161780045307139 0.26153785274131053 -0.23806769973002254 0.22330708688335682 0.24434977003073471 -0.9095575906810065 0.63696985232580228 0.56345330488666001 -0.13811360486235261 0.015569061876182511 0.096170302831349475 0.40170393630809176 -0.024308332643232754 -0.038544810203669629 -0.21794943921453652 0.057705887613809202 -0.38562606815994716 -0.37720391488799743 -0.32930218869813521 0.092430005852526892 -0.091902071413070927 -0.057175720848866109 -0.17196222754284174 -0.14278269469239796 -0.067230979476999977 -0.15170877007009567 -0.11049839699255973 -0.0032653743811120982 0.18198337015506344 -0.050880622968094667 -0.063978340349780324 -0.23154023150930036 0.18263631035282843 0.19443082279918752 -0.19959057511286013 0.097433890844848103 -0.46408572012198995 0.65639100939416206 -0.44158949772778688 0.34051870591817412 0.00060863822501476539 -0.31006174182191931 -0.041451576786587604 -0.4369656956729161 0.32272040682268799 0.19263105820042481 0.19541529628971216 0.20905040819073795 0.70103887275991505 0.45968900765543802 -0.46626438153991401 -0.29276565776882929 -0.76430223413646892 -0.26342407181629091 0.27589433104300709;-0.13555757004746194 -0.04154168433241813 -0.2809447964380265 -0.85254065164409376 0.047414239924925404 -0.31331120036244026 -0.010904088160575698 0.16508453305686735 -0.35806555402175283 -0.16765732026329319 -0.21952587344486524 -0.24880184552865445 -0.49924232283126918 -0.11485753057740358 -0.80772723501360211 -0.117612452327978 -0.33232442902596065 0.011383765225361659 -0.38002586456852305 -0.22820301470097054 -0.0077181291731210581 0.30956226433643785 0.26046193996345895 0.066704324807529899 0.32329190453175805 0.80614836452884131 0.27221481115064217 0.072740435482416932 0.79598989945171661 -0.22040083529151008 1.0698303903815463 -0.41609564071054345 0.47898647685682555 -0.06337288159795508 -0.051915627118117799 0.86698265468482405 -0.18255073383255183 -0.53228045311177752 0.4877344463521307 -0.17566323480710611 0.13152712393082527 -0.25130929883235043 -0.050069999965704805 -0.0056304680623674164 0.27453937533374362 -0.117764736723615 0.58055958900147986 -0.084028025982088944 0.043159404912655207 -0.33128181214605945 -0.40427127596262719 -0.47721225831781566 -0.23994548870984919 0.011657952702845028 0.20290672147694375 -0.28436242822064428 -0.13393861000235416 0.0076235811741240632 0.028589304722133883 -0.0029149871585509995 -0.0727019836648055 -0.03760286939991532 0.24039159779994154 -0.042402839196909313 0.10896088446224311 0.133709914606324 0.12990655852256555 0.48660956323759869 0.052015673693808842 -0.36965828828849667 0.15617502737981601 0.34848941159933255 0.20057417321608365 -0.034631111086078567 0.045053482987096487 -0.098987998303660188 0.13380963409015792 -0.060638362130721664 -0.13833727736047197 -0.074815542018426204 0.0092714166537697269 -0.053630535610894661 0.04281957268996734 -0.0938050830683827 0.45674797917002952 -0.30742646089599901 -0.066231995942452104 0.6042296458204599 -0.17334383473062986 0.28574458307159517 -0.17381287253732444 -0.26751109586135169 -0.25560013668650633 -0.2739079598898656 0.82725291785150779 0.60148865276648389 -0.52752491295162285 -0.56914704635077351 -0.17995427382437451 -0.10845060787765404 -0.056294454655977613;-0.098735337004448753 0.16282000881506711 -0.82212662587172813 0.86786891849574244 -0.82217376904554773 -0.36942137565643351 -1.0617756442208508 -0.3268804749304251 -0.032965107839134963 0.06033068820069739 -0.24211746659147088 -0.023770624386310325 0.61004528307295147 -0.18403315339226495 0.80016238620332014 0.027023395096386744 0.52504401638963527 0.1984690756418219 0.26825461366831876 0.17213407311814344 0.37956901455429265 -0.76576336748756579 0.30538419308561671 0.5820496678165995 0.32451100081772333 0.65220241542649371 0.30093819069290734 0.072299249506212693 -0.62328737681019375 0.59526279152853467 0.0077454824853296911 -0.039642388578061481 -0.077511073864208718 -0.20612501733530864 0.026290206805961301 0.26255701294944195 0.17601379431491945 0.19513523569663649 -0.3361855814312068 0.018946773505653637 0.19873254861268463 0.034340559091823118 -0.502029606643844 -0.175043840011879 0.050280454259961041 -0.52552001291885375 -0.48607762681073913 -0.25623646784337439 0.071912862528191471 -0.11372167456707795 -0.03859769854967593 0.43288765903757392 0.29380925932538149 -0.66283699049019329 -0.10227717434082094 -0.13308140560548132 0.3472223481447525 -0.33980064036834695 0.19477876753080961 -0.078652465139833913 -0.21894559881474207 -0.022116202017733545 -0.12980685670376971 0.088400316957487082 0.04215910741032626 -0.21123401719106288 0.10694211744435463 -0.29215059844396141 -0.078834234263363376 -0.7042916491691652 -0.28330380590359028 -0.35592430219577043 -0.084464625587914677 0.18177048702677637 0.098746884276347577 0.17848143676466288 -0.19047827317950083 -0.20379786531383404 -0.27314360221456241 -0.02944958811478695 0.099739908786785902 -0.12586379781547796 0.0031561485892942255 -0.12955249606006675 -0.21211363645463405 0.039660450462088437 0.073693071572941221 -0.74104710110493199 -0.15269053025366341 0.12127812979577346 -0.013331220667376881 -0.19026701286999981 -0.15677457147198182 -0.42263641059920271 0.99950659854167734 0.47252464481714529 0.28683592080569764 0.11973923720723173 -0.28748799671397818 0.80287027769028074 -0.69172503752274606];

% Layer 2
b2 = 0.17309394934783578;
LW2_1 = [-1.3093857716196529 0.18633053426231885 0.055557804577425943 -0.019213703678448643 0.52282134404016156 -0.61534556394750128 0.38700531235278124 -0.0068505306683861698 -0.34718917361069401 0.047878122148068851];

% Output 1
y1_step1_ymin = -1;
y1_step1_gain = 9.4512598529384e-06;
y1_step1_xoffset = 12567;

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = removeconstantrows_apply(x1,x1_step1_keep,x1_step1_remove);
xp1 = mapminmax_apply(xp1,x1_step2_gain,x1_step2_xoffset,x1_step2_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1_gain,y1_step1_xoffset,y1_step1_ymin);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings_keep,settings_remove)
if isempty(settings_remove)
    y = x;
else
    y = x(settings_keep,:);
end
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings_gain,settings_xoffset,settings_ymin)
x = bsxfun(@minus,y,settings_ymin);
x = bsxfun(@rdivide,x,settings_gain);
x = bsxfun(@plus,x,settings_xoffset);
end
